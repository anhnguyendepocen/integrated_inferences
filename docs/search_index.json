[
["elements-of-design.html", "Chapter 10 Elements of Design 10.1 Model, inquiry, data strategy, answer strategy 10.2 Evaluating a mixed method design 10.3 Illustration of in code", " Chapter 10 Elements of Design A fully specified causal model includes the information needed to assess the properties of a research design that seeks to learn from or learn about the model. We talk through how to go from defining causal models to “declaring” research designs and use this framework in later chapters to inform decisions about details of design choices. So far we have described a way to think about causal models, a way to specify causal estimands, and a Bayesian approach to inference, given models and estimands. Together with a strategy for data gathering these elements are enough to fully characterize a research design. If in addition we provide criterea for evaluating a design we have enough to be able to simulate the behavior of a research design and assess whether a design is up to the task fo answering the questions we want to answer. Once we have a method to assess the performance of a given design we can can start asking what kind of design is optimal, given some beliefs about the world (see Blair et al. (2019) for more on this general approach to design declaration and diagnosis). In the next chapters we use this approach to assess a set of design choices including choices regarding the clues about which data is sought, the types of cases for which data is sought, and the number of cases for which different types of data is sought. In the remainder of this chapter we discuss a simple evaluative criterion for a design and give examples for design declaration for a simple single case process tracing design and a mixed methods design. 10.1 Model, inquiry, data strategy, answer strategy We use the MIDA approach (model, inquiry, data strategy, answer strategy) approach to declare a simple process tracing design with an arbitrary model. Model. We will define a model as introduced in Chapter 2. We outline approaches for this in section X below. Inquiry As discussed in Chapter 4, an inquiry is a question asked of a model. This is typically a question about the distribution of a variable in some controlled or natural condition, or some summary of such distributions. We refer to the quantity being targeted by a query as the estimand. Data strategy. The data strategy describes how data will be gathered. In typical DeclareDesign applications this includes both randomization and data gathering (sampling) strategies. We focus on data gathering though we highlight that randomization strategies can be implemented via a modification of the confounds allowed by the model. A sampling strategy might indicate a sequence of conditional data gathering schemes, for instance: gather data on \\(X\\) and \\(Y\\) for 100 cases, then gather data on \\(M\\) for all cases in which \\(X=Y\\). Note that in some cases we might want to think of the estimand as being defined after the data strategy. This would be the case for instance if we chose a case and we seek to work out some feature about that case rather than about the population. Answer strategy. The answer strategy combines the observed data with a causal model to generate an updated model from which inferences can be drawn. Importantly, the model used in the answer strategy does not need to be the same model as assumed at the model step since we could imagine analysts coming to the data with quite different models in mind. Of course any model used in the answer strategy should generally involve the same variables as in the model itself. A design is a concatenation of these four steps. The concatenated lets us examine instances of the application of a design. A single instance would involve a single draw of a true parameter vector from the distribution given in the model definition a calculation of the value of an estimand given this true parameter draw the generation of a dataset given the model implied by step 1 and the data strategy the generation of an answer to the inquiry generated from the realized data from 3. and the answer strategy With the observation of multiple instances we get to assess the distribution of our answers — and our uncertainty around these – over repeated draws, and each time we get to see how well the answer we get maps onto the assumed truth in that draw. 10.1.1 Defining a model For this we need to define our model. In doing so we declare the set of variables we are interested in and the relations of independence between them. In defining the variables we generally also define the ranges of the variables—indicating, for example whether they are binary, categorical, or continuous. In defining the edges we identify the set of parents of any node. Which nodes How much detail? Be aware of implications of uneveness in the level of detail Justifying conditional independence claims Justifying restrictions Refer back to our discussion of the inequality and democracy model in section ??. There we discussed a theory that unpacked a higher level model but that did not place any restrictions on functional forms — that is, on causal types. We might imagine such restrictions being justified by theory, however. Drawing on Boix (2003), for instance, we might theorize that inequality can have a negative effect on democratization by giving the elite more to lose from majority rule, making autocrats less willing to hand over power. Inequality’s positive effect, we might further posit, derives from the fact that it gives the poor more to gain from the redistribution that democratization would enable (Acemoglu and Robinson (2005)). However, this positive effect can only unfold to the extent that the masses are able to mobilize, and the capacity to mobilize will hinge on ethnic homogeneity. Ethnic homogeneity thus defines the causal possibilities in regard to \\(I\\)’s effect on \\(D\\). First, homogeneity is necessary for a positive effect of inequality. Second, by enabling mobilization around distributional demands, ethnic homogeneity rules out a net negative effect of inequality (as inequality’s mobilizing effects will balance out elite fears of expropriation). Third, by making mass mobilization easier in general, ethnic homogeneity makes possible mobilization and democratization without inequality. Under ethnic heterogeneity, on the other hand, inequality can have a negative effect, or it can no effect at all with autocracy entrenched. Put differently, under ethnic homogeneity, inequality’s effect can only correspond to a \\(b\\) type or a \\(d\\) type, while under heterogeneity the effect can only be of type \\(a\\) or type \\(c\\). \\(E\\) thus allows us to partition the range of causal possibilities that model (a) had lumped together under \\(\\theta^D\\). Now we can capture this logic with a functional equation in which \\(\\theta^D\\) now takes on just two possible values (0 or 1), rather than four: \\[\\begin{equation} D=IE(1-\\theta^D)+\\theta^DE+(1-E)(1-I)\\theta^D \\end{equation}\\] We can work through the arithmetic to observe \\(E\\)’s causal-partitioning effect. Whether \\(E\\) is 0 or 1 determines whether we are in a world of posiitve effects (\\(b\\) types) and democratization regardless (\\(d\\) types), or a world of negative effects (\\(a\\) types) and autocracy regardless (\\(c\\) types). Note that the righthand side is a sum of three expressions. We can think of \\(E\\) as a “switch” that turns these expressions “on” or “off.” When \\(E=1\\), the third expression goes to 0, leaving only the first two in play “on.” Now, \\(\\theta^D\\) determines whether \\(I\\) has a positive effect (when \\(\\theta^D=0\\)) or no effect with \\(D\\) fixed at \\(1\\) (when \\(\\theta^D=1\\)). Conversely, when \\(E=0\\), the first two expressions both go to \\(0\\), and \\(\\theta^D\\) determines whether \\(I\\) will have a negative effect (when \\(\\theta^D=1\\)) or no effect with \\(D\\) stuck at 0 (when \\(\\theta^D=0\\)). A declaration of structures of unobserved confounding. Priors. Beliefs about the distribution of shocks. When defined as part of the model we think of these priors as being the priors from the vantage point of someone assessing a design and they need not be the same as the priors used in the analysis. REFELCTING THE LITERATURE GATHERING DISCPILINARY PRIORS EMPIRICAL APPROACH 10.1.2 Choosing estimands Estimands are causal statements Estimands under controlled conditions, estimands under observational conditions Estimands that depend on the cases Sample and population level estimands / post stratification 10.1.3 Selecting a data strategy Data strategies can involve: how many cases to examine which cases to examine which clues to examine in which cases Conditional strategies, dynamic strategies 10.1.4 Answer strategy We assume throughout that researchers draw inferences by updating on causal models as described in previous chapters. 10.2 Evaluating a mixed method design The observation that theories vary in their precision points to a method for describing the learning that is attributable to a lower-level theory relative to a higher level theory. When a lower-level theory represents a disaggregation, the lower-level theory identifies a set of potentially observable variables that are not listed by the the higher-level theory. This allows one to assess the gains in precision (for some collection of unobserved variables) that can arise from learning the values of additional observables in the lower-level theory. Suppose that the contribution of a lower-level theory is to allow for inferences from new data \\(K\\) about some set of query variables \\(Q\\), after we have already observed variables \\(W\\) from the higher-level model. Then we can use the expected squared error from the mean posterior estimate as a measure of precision for collection \\(Q\\), as a measure of loss: \\[E_{k, q} \\left(\\left( \\int q&#39; P(q&#39; | k, w)dq&#39; - q\\right)^2\\right)\\] where the expectation is taken over the joint distribution of \\(K\\) and \\(Q\\), given \\(W\\). This is an expected loss—or the Bayes risk. The inner term \\(P(q&#39;|k, w)\\) is the posterior distribution on \\(q&#39;\\) given observation of \\(k\\) and \\(w\\). Another way to think of the gains is as the expected reduction in the variance of the Bayesian posterior: how certain do you expect you will be after you make use of this new information? In fact these two quantities are equivalent (see for example Scharf (1991)). Moreover, it is easy to see that whenever inferences are sensitive to \\(K\\), the expected variance of the posterior will be lower than the variance of the prior. This can be seen from the law of total variance, written here to highlight the gains from observation of \\(K\\), given what is already known from observation of \\(W\\).1 \\[Var(Q|W) = E_{K|W}(Var(Q|K,W)) +Var_{K|W}(E(Q|K,W))\\] The contribution of a theory can then be defined as the mean reduction in Bayes risk: \\[\\text{Gains from theory} = 1- \\frac{E_{K|W}(Var(Q|K,W))}{Var(Q|W)}\\] This is a kind of \\(R^2\\) measure (see also Gelman and Pardoe (2006)). 10.2.1 Other loss functions Other loss functions could be used, including functions that take account of the costs of collecting additional data,2 or to the risks associated with false diagnoses.3 For illustration say that it is known that \\(X=1, Y=1\\) and that, given this information (playing the role of \\(W\\)), the posterior probability that a unit is of type \\(b\\) (and not type \\(d\\)) is \\(p\\). Say then that a theory specifies that \\(K\\) will take a value 1 with probability \\(\\phi_j\\) if the unit is of type \\(j\\). Then what is the value added of this theory? Define \\(Q\\) here as the query regarding whether the unit is a \\(b\\) type. Then the prior variance, \\(Var(Q|W)\\), is simply \\(p(1-p)^2 +(1-p)p^2 = p(1-p)\\). To calculate \\(E_{K|W}(Var(Q|K,W))\\), note that the posterior if \\(K\\) is observed is \\(\\frac{\\phi_bp}{\\phi_bp+\\phi_d(1-p)}\\). Let us call this \\(\\hat{q}_K\\), and the belief when \\(K\\) is not observed \\(\\hat{q}_{\\overline{K}}\\). In that case the expected error is: \\[\\text{Expected Error} = p\\phi_b\\left(1-\\hat{q}_K\\right)^2+(1-p)\\phi_d\\hat{q}_K^2+p(1-\\phi_b)\\left(1-\\hat{q}_{\\overline{K}}\\right)^2+(1-p)(1-\\phi_d)\\hat{q}_{\\overline{K}}^2\\] where the four terms are the errors when \\(K\\) is seen for a \\(b\\) type, when \\(K\\) is seen for a \\(d\\) type, when \\(K\\) is not seen for a \\(b\\) type, and when \\(K\\) is not see for a \\(d\\) type. Defining \\(\\rho_K = (p\\phi_b+(1-p)\\phi_d)\\) as the probability of observing \\(K\\) given the prior, we can write the posterior variance as: \\[\\text{Expected Posterior Variance} = \\rho_K\\hat{q}_K(1-\\hat{q}_K)+(1-\\rho_K)\\hat{q}_{\\overline{K}}(1-\\hat{q}_{\\overline{K}})\\] With a little manipulation, both of these expressions simplify to: \\[\\text{Expected Posterior Variance} =p(1-p)\\left(\\frac{\\phi_b\\phi_d}{\\phi_bp+\\phi_d(1-p)} + \\frac{(1-\\phi_b)(1-\\phi_d)}{(1-\\phi_b)p+(1-\\phi_d)(1-p)}\\right)\\] The gains are then: \\[\\text{Gains} =1- \\frac{\\phi_b\\phi_d}{\\phi_bp+\\phi_d(1-p)} - \\frac{(1-\\phi_b)(1-\\phi_d)}{(1-\\phi_b)p+(1-\\phi_d)(1-p)}\\] Let’s consider the same question using a particular model and calculate these quantities given this model. model &lt;- make_model(&quot;X -&gt; Y; K -&gt; Y&quot;) %&gt;% set_parameters(c( .5, .5, .5, .5, 0,.5,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,.5)) The probability that \\(K=1\\) given \\(X=Y=1\\) is: prob_K &lt;- query_distribution(model, query = &quot;K[Y=1]==1&quot;, using = &quot;parameters&quot;, subset = &quot;X==1 &amp; Y==1&quot;) The inferences conditional on the observation of \\(K\\) are: inferences &lt;- gbiqq::query_model( model, queries = &quot;Y[X=1]&gt;Y[X=0]&quot;, using = &quot;parameters&quot;, subsets = list(&quot;X==1 &amp; Y==1&quot;, &quot;X==1 &amp; Y==1 &amp; K==1&quot;, &quot;X==1 &amp; Y==1 &amp; K==0&quot;)) The expected error is then reduced from 0 to 0 10.2.2 Other measures of a gain from a theory Other natural measures of gains from theory might include the simple correlation between \\(K\\) and \\(Q\\), or entropy-based measures (see Zhang and Srihari (2003) for many more possibilities). For this problem the correlation is given by (see appendix): \\[\\rho_{KQ} = \\frac{(\\phi_b+\\phi_d)(1-2p)(p(1-p))^{.5}}{ (p\\phi_b+(1-p)\\phi_d)(1-(p\\phi_b+(1-p)\\phi_d)))^{.5}}\\] One might also use a measure of “mutual information” from information theory: \\[I(Q,K) = \\sum_q \\sum_k P(q,k)\\log\\left(\\frac{P(q,k)}{P(q)P(k)}\\right)\\] To express this mutual information as a share of variation explained, we could divide \\(I(Q,K)\\) by the entropy of \\(Q\\), \\(H(Q)\\) where \\(H(Q) = -\\sum_qP(q)\\log(P(q))\\). The resulting ratio can be interpreted as 1 minus the ratio of the entropy of \\(Q\\) conditional (on \\(K\\)) to the unconditional entropy of \\(Q\\). For this example, Figure shows gains as a function of \\(\\phi_b\\) given a fixed value of \\(\\phi_d\\). The figure also shows other possible measures of probative value, with, in this case, the reduction in entropy tracking the reduced posterior variance closely. Figure 10.1: The solid line shows gains in precision (reduced posterior variance) for different values of \\(\\phi_b\\) given \\(\\phi_d=0.25\\) and \\(p=.5\\) for the example given in the text. Additional measures of probative value are also provided including \\(|\\phi_b - \\phi_d|\\), the correlation of \\(K\\) and \\(Q\\), and the reduction in entropy in \\(Q\\) due to mutual information in \\(Q\\) and \\(K\\). 10.3 Illustration of in code In the gbiqq package there is a single function that lets you declare a full design in one go by letting you supply arguments to declare a model, an inquiry, a data strategy, and an answer strategy # A single function can be used to declare a model, an inquiry, a data strategy, and an answer strategy my_design &lt;- gbiqq_designer( model = make_model(&quot;X -&gt; M -&gt; Y&quot;), inquiry = list(ATE = &quot;Y[X=1] - Y[X=0]&quot;), data_strat = list(n_obs = 5, vars = list(c(&quot;X&quot;, &quot;Y&quot;), &quot;M&quot;), probs = list(1, .5), subsets = list(NULL, &quot;X==1 &amp; Y==0&quot;), n = NULL), answer_strat = NULL ) With this model in hand you can use it to draw likely data, run analyses, an drun diagnostics. sample_data &lt;- draw_data(my_design) sample_estimands &lt;- draw_estimands(my_design) sample_estimates &lt;- get_estimates(my_design, df) References "]
]
